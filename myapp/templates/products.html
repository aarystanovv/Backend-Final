{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial scale=1.0">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Products</title>
</head>
<body>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <div class="container">
        <div class="navbar">
            <div class="logo">
                <a href="http://localhost:8000/home"  class="shop">Duken</a>
            </div>
            <nav>
            <ul id="MenuItems">
                <li><a href="http://localhost:8000/home">Home</a></li>
              <li><a href="http://localhost:8000/products">Products</a></li>
              <li><a href="http://localhost:8000/account">Account</a></li>
              <li><a href="http://localhost:8000/AdminUser">Admins</a></li>
              <li><a href="http://localhost:8000/support">Support</a></li>
                <button type="button" id="login" style="margin-right: 20px; color: #555; border: 0; background-color: #ffffff; font-size: 18px;"><a href="/profile1" class="nav-link text-white">{{ user.username }}</a></button>
            </ul>
            </nav>
            <a href="http://localhost:8000/cart"> <img src="{%  static 'img/cart.png' %}" width="30px" height="30px"> </a>
            <img src="{%  static 'img/menu.png' %}" class="menu-icon" onclick="menutoggle()">
        </div>
    </div>
    <div class="small-container">
        <div class="row row-2">
            <h2>All Products</h2>
            <select id="valuta" onclick="change()">
                <option onclick="dollar()"> Dollar (USD) </option>
                <option onclick="tenge()"> Tenge (KZT) </option>
                <option onclick="euro()"> Euro (EU) </option>
            </select>
        </div>
        <div class="row">
            {% for q in product %}
            <div class="col-4">
               <a href="http://localhost:8000/details/{{q.id}}"> <img src="{{ q.foto.url }}"> </a>
               <a href="http://localhost:8000/details/{{q.id}}"> <h4>{{ q.name }}</h4> </a>
                <div class="rating">
                    {% if 5 == q.star%}
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    {% elif 4 == q.star %}
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star-o"></i>
                    {% elif 3 == q.star %}
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star-o"></i>
                    <i class="fa fa-star-o"></i>
                    {% elif 2 == q.star %}
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star-o"></i>
                    <i class="fa fa-star-o"></i>
                    <i class="fa fa-star-o"></i>
                    {% elif 1 == q.star %}
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star-o"></i>
                    <i class="fa fa-star-o"></i>
                    <i class="fa fa-star-o"></i>
                    <i class="fa fa-star-o"></i>
                    {% elif 0 == q.star %}
                    <i class="fa fa-star-o"></i>
                    <i class="fa fa-star-o"></i>
                    <i class="fa fa-star-o"></i>
                    <i class="fa fa-star-o"></i>
                    <i class="fa fa-star-o"></i>
                    {% endif %}
                </div>
                <div class="katar">
                    <p class="valu">$</p><p class="cost">{{ q.price }}</p>
                </div>
            </div>
            {% endfor %}
        </div>

</div>
<footer>
    <div class="waves">
        <div class="wave" id="wave1"></div>
        <div class="wave" id="wave2"></div>
        <div class="wave" id="wave3"></div>
        <div class="wave" id="wave4"></div>
    </div>
    <ul class="social_icon">
        <li><a href=""><ion-icon name="logo-facebook"></ion-icon></a></li>
        <li><a href=""><ion-icon name="logo-tiktok"></ion-icon></a></li>
        <li><a href=""><ion-icon name="logo-instagram"></ion-icon></a></li>
        <li><a href=""><ion-icon name="logo-twitter"></ion-icon></a></li>
        <li><a href=""><ion-icon name="logo-github"></ion-icon></a></li>
    </ul>
    <ul class="menu">
        <li><a href="/home">Home</a></li>
        <li><a href="/products/">Products</a></li>
        <li><a href="/account">Account</a></li>
        <li><a href="/support">About</a></li>
        <li><a href="/cart">Cart</a></li>
    </ul>
    <p>We are celling this site | All Rights Reserved</p>
</footer>

<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
<script>
    var f = 0;
    
    
    function change() {
        var select = document.getElementById('valuta');
        var value = select.options[select.selectedIndex].value; 
        if (value == "Tenge (KZT)") {
        //  1  tenge
            if (f == 0) {
                for(var i=0; i<8; i++){
                    var a=document.getElementsByClassName("cost")[i].innerHTML;
                    document.getElementsByClassName("cost")[i].innerHTML=Math.round(a*430);
                    document.getElementsByClassName("valu")[i].innerHTML="₸";
                }
                f = 1;
            } else if (f == 2) {
                for(var i=0; i<8; i++){
                    var a=document.getElementsByClassName("cost")[i].innerHTML;
                    document.getElementsByClassName("cost")[i].innerHTML=Math.round(a*450);
                    document.getElementsByClassName("valu")[i].innerHTML="₸";
                }
                f = 1;
            }
        } else if (value == "Euro (EU)") {
            //    2 euro
            if (f == 0) {
                for(var i=0; i<8; i++){
                    var g=document.getElementsByClassName("cost")[i].innerHTML;
                    document.getElementsByClassName("cost")[i].innerHTML=Math.round(g*430/450);
                    document.getElementsByClassName("valu")[i].innerHTML="€";
                }
                f = 2;
            } else if (f == 1) {
                for(var i=0; i<8; i++){
                    var g=document.getElementsByClassName("cost")[i].innerHTML;
                    document.getElementsByClassName("cost")[i].innerHTML=Math.round(g/450);
                    document.getElementsByClassName("valu")[i].innerHTML="€";
                }
                f = 2;
            }
        } else {
            //   0 dollar
            if (f == 1) {
                for(var i=0; i<8; i++){
                    var b=document.getElementsByClassName("cost")[i].innerHTML;
                    b /= 430;
                    document.getElementsByClassName("cost")[i].innerHTML=Math.round(b);
                    document.getElementsByClassName("valu")[i].innerHTML="$";
                }
                f = 0;
            } else if (f == 2) {
                for(var i=0; i<8; i++){
                    var b=document.getElementsByClassName("cost")[i].innerHTML;
                    b /= 430;
                    b *= 450;
                    document.getElementsByClassName("cost")[i].innerHTML=Math.round(b);
                    document.getElementsByClassName("valu")[i].innerHTML="$";
                }
                f = 0;
            }
        }
    }
    function bir() {
        document.getElementById("bir").style.color="white";
        document.getElementById("bir").style.borderColor="red";
        //document.getElementById("bir").style.borderRadius = 3;
    } 
</script>

</body>
</html>